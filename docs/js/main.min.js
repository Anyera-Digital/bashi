"use strict";const body=$("body"),header=$("header");let lastScrollTop=0;function closePopup(e){e.closest(".popup-wrapper").removeClass("is-open"),body.removeClass("no-scroll")}$(window).on("scroll",function(){var e=$(this).scrollTop();e>lastScrollTop?header.removeClass("is-fixed"):header.addClass("is-fixed"),lastScrollTop=e}),$(".js-switch-lang").on("click",function(){$(".language-menu").toggleClass("is-open")}),$(document).mouseup(function(e){var s=$(".language-menu");!s.is(e.target)&&0===s.has(e.target).length&&s.hasClass(".is-open")&&s.removeClass("is-open")}),$(".js-open-search").on("click",function(){$(this).next().addClass("is-open"),body.addClass("no-scroll")}),$(".js-close-search").on("click",function(){closePopup($(this)),$(".js-search .form__input").val("")}),$(document).mouseup(function(e){var s=$(".js-search"),o=s.closest(".popup-wrapper").hasClass("is-open");!s.is(e.target)&&0===s.has(e.target).length&&o&&($(".js-open-search").next().removeClass("is-open"),body.removeClass("no-scroll"))});const authElem=$(".js-auth-popup"),burger=(authElem&&(authElem.on("click",function(){$(this).next().addClass("is-open"),body.addClass("no-scroll")}),$(".js-auth-popup-close").on("click",function(){closePopup($(this))}),$(document).mouseup(function(e){var s=$(".auth-popup__content"),o=s.closest(".popup-wrapper").hasClass("is-open");!s.is(e.target)&&0===s.has(e.target).length&&o&&(s.closest(".popup-wrapper").removeClass("is-open"),body.removeClass("no-scroll"))})),$(".js-mob-menu")),closeMenuBtn=$(".js-close-mob-menu"),mobMenuParent=burger.closest(".mobile-menu"),productPreviewSrcElem=(burger.on("click",function(){$(".popup-wrapper",mobMenuParent).addClass("is-open"),body.addClass("no-scroll")}),closeMenuBtn.on("click",function(){$(".popup-wrapper",mobMenuParent).removeClass("is-open"),body.removeClass("no-scroll")}),$(document).mouseup(function(e){var s=$(".mobile-menu__menu"),o=$(".mobile-menu .popup-wrapper.is-open")[0];!s.is(e.target)&&0===s.has(e.target).length&&o&&($(".popup-wrapper",mobMenuParent).removeClass("is-open"),body.removeClass("no-scroll"))}),$(".js-product-preview")[0]&&new Swiper(".js-product-preview",{slidesPerView:1,spaceBetween:10,scrollbar:{el:".swiper-scrollbar"},breakpoints:{390:{slidesPerView:2},768:{slidesPerView:3,spaceBetween:15},1200:{slidesPerView:4},1800:{slidesPerView:5,spaceBetween:25}}}),$(".js-preview-src"));function changePreview(e,s){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,e=e.closest(".product-preview__image");$("img",e).attr("src",s),$("[data-pagination-index]",e).removeClass("active"),$(`[data-pagination-index="${o}"]`,e).addClass("active")}productPreviewSrcElem&&(productPreviewSrcElem.on("mouseenter",function(e){var s=$(this).attr("data-image-preview-src"),o=$(this).attr("data-preview-index");changePreview($(this),s,o)}),productPreviewSrcElem.on("mouseleave",function(e){$(e.relatedTarget).attr("data-image-preview-src")||(e=$(e.target).siblings('[data-preview-index="1"]').attr("data-image-preview-src"),changePreview($(this),e))}));const personalCard=$(".js-personal-card"),formInput=(personalCard&&personalCard.on("click",function(){$(this).hasClass("is-rotated")?personalCard.removeClass("is-rotated"):(personalCard.removeClass("is-rotated"),$(this).addClass("is-rotated"))}),$(".form__input")),phoneMask=(formInput&&(formInput.on("focus",function(){$(this).addClass("is-focused")}),formInput.on("blur",function(){$(this).val()||$(this).removeClass("is-focused")})),$(".js-phone-mask")),registrationForm=(phoneMask[0]&&phoneMask.mask("+7 999 999 99 99"),$(".js-registration"));registrationForm&&registrationForm.on("submit",function(e){e.preventDefault(),$('[name="password"]').val()===$('[name="repeat-password"]').val()&&console.log("register")});